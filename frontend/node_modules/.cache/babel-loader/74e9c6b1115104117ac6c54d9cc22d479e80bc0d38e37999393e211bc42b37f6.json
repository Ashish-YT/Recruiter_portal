{"ast":null,"code":"import React,{Component}from'react';import axios from'axios';import Grid from'@material-ui/core/Grid';import TableCell from'@material-ui/core/TableCell';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import Button from'@material-ui/core/Button';import List from'@material-ui/core/List';import Tooltip from'@material-ui/core/Tooltip';import ListItem from'@material-ui/core/ListItem';import ArrowUpwardIcon from'@material-ui/icons/ArrowUpward';import ArrowDownwardIcon from'@material-ui/icons/ArrowDownward';import Card from\"react-bootstrap/Card\";import{connect}from\"react-redux\";class AppList extends Component{constructor(props){super(props);this.onLogoutClick=e=>{e.preventDefault();this.props.logoutUser();};this.onChange=e=>{this.setState({[e.target.id]:e.target.value});};this.state={userdetails:[],users:[],jobs:[],applications:[],rating:0,sortbyname:true,sortbydateofapply:true,sortbyrating:true};this.renderNameIcon=this.renderNameIcon.bind(this);this.renderDateOfApplyIcon=this.renderDateOfApplyIcon.bind(this);this.renderRatingIcon=this.renderRatingIcon.bind(this);this.sortByName=this.sortByName.bind(this);this.sortByDateOfApply=this.sortByDateOfApply.bind(this);this.sortByRating=this.sortByRating.bind(this);this.accept=this.accept.bind(this);}componentDidMount(){const{user}=this.props.auth;axios.get('http://localhost:4000/user/'+user.id).then(response=>{this.setState({userdetails:response.data});}).catch(function(error){console.log(error);});axios.get('http://localhost:4000/job/get_jobs').then(response=>{this.setState({jobs:response.data});}).catch(function(error){console.log(error);});axios.get('http://localhost:4000/user/').then(response=>{this.setState({users:response.data});}).catch(function(error){console.log(error);});axios.get('http://localhost:4000/application/get_applications').then(response=>{this.setState({applications:response.data});}).catch(function(error){console.log(error);});}componentWillReceiveProps(nextProps){if(nextProps.errors){this.setState({errors:nextProps.errors});}}getjob(jobId){let job=this.state.jobs.filter(item=>item._id===jobId)[0];return job;}getapplicant(applicantId){let applicant=this.state.users.filter(item=>item._id===applicantId)[0];return applicant;}sortByName(){var array=this.state.applications;var flag=this.state.sortbyname;let uusers=this.state.users;function getapplicant(applicantId){let applicant=uusers.filter(item=>item._id===applicantId)[0];return applicant;}array.sort(function(a,b){console.log(a.applicantId);let aapp=getapplicant(a.applicantId);let bapp=getapplicant(b.applicantId);if(aapp.name!==undefined&&bapp.name!==undefined){return(1-+flag*2)*aapp.name.localeCompare(bapp.name);}else{return 1;}});this.setState({applications:array,sortbyname:!this.state.sortbyname});}sortByDateOfApply(){var array=this.state.applications;var flag=this.state.sortbydateofapply;array.sort(function(a,b){if(a.dateOfApply!==undefined&&b.dateOfApply!==undefined){return(1-+flag*2)*(new Date(a.dateOfApply)-new Date(b.dateOfApply));}else{return 1;}});this.setState({applications:array,sortbydateofapply:!this.state.sortbydateofapply});}sortByRating(){var array=this.state.applications;var flag=this.state.sortbyrating;let uusers=this.state.users;function getapplicant(applicantId){let applicant=uusers.filter(item=>item._id===applicantId)[0];return applicant;}array.sort(function(a,b){let aapp=getapplicant(a.applicantId);let bapp=getapplicant(b.applicantId);if(aapp.rating!==undefined&&bapp.rating!==undefined){return(1-+flag*2)*(+aapp.rating-+bapp.rating);}else{return 1;}});this.setState({applications:array,sortbyrating:!this.state.sortbyrating});}renderNameIcon(){if(this.state.sortbyname){return/*#__PURE__*/React.createElement(ArrowDownwardIcon,null);}else{return/*#__PURE__*/React.createElement(ArrowUpwardIcon,null);}}renderDateOfApplyIcon(){if(this.state.sortbydateofapply){return/*#__PURE__*/React.createElement(ArrowDownwardIcon,null);}else{return/*#__PURE__*/React.createElement(ArrowUpwardIcon,null);}}renderRatingIcon(){if(this.state.sortbyrating){return/*#__PURE__*/React.createElement(ArrowDownwardIcon,null);}else{return/*#__PURE__*/React.createElement(ArrowUpwardIcon,null);}}shortlist(application){const editApplication={status:\"Shortlisted\"};axios.put('http://localhost:4000/application/edit_application/'+application._id,editApplication).then(response=>{console.log(editApplication);}).catch(function(error){console.log(error);});window.location.reload();}accept(application){let job=this.getjob(application.jobId);if(job.numpos===job.posmax){alert(\"All positions are filled!\");return;}else if(job.numpos===job.posmax-1){this.state.applications.filter(item=>item.applicantId!==application.applicantId&&item.jobId===application.jobId&&item.status!==\"Deleted\"&&item.status!==\"Accepted\").forEach(function(appli){// let temp = job;\nconst tempAppli={status:\"Rejected\"};// let newNumApp = +temp.numapp - 1;\n// if(newNumApp < 0) newNumApp = 0;\n// const tempJob = {\n//     numapp: newNumApp\n// }\naxios.put('http://localhost:4000/application/edit_application/'+appli._id,tempAppli).then(response=>{console.log(tempAppli);}).catch(function(error){console.log(error);});// axios\n//     .put('http://localhost:4000/job/edit_job/' + temp._id, tempJob)\n//     .then(response => {\n//         console.log(tempJob);\n//     })\n//     .catch(function(error) {\n//         console.log(error);\n//     })\n});}let nnumpos=+job.numpos+1;const editApplicant={working:true,numapp:0};const editJob={numpos:nnumpos};const editApplication={status:\"Accepted\",doj:new Date()};axios.put('http://localhost:4000/job/edit_job/'+job._id,editJob).then(response=>{console.log(editJob);}).catch(function(error){console.log(error);});axios.put('http://localhost:4000/application/edit_application/'+application._id,editApplication).then(response=>{console.log(editApplication);}).catch(function(error){console.log(error);});axios.put('http://localhost:4000/user/edit_profile/'+application.applicantId,editApplicant).then(response=>{console.log(editApplicant);}).catch(function(error){console.log(error);});let alljobs=this.state.jobs;this.state.applications.filter(item=>item.applicantId===application.applicantId&&item._id!==application._id&&item.status!==\"Deleted\").forEach(function(appli){// let appliJob = alljobs.filter(item => item._id === appli.jobId)[0];\nconst editAppli={status:\"Rejected\"};// let napp = +appliJob.numapp - 1;\n// if(napp < 0) napp = 0;\n// const editAppliJob = {\n//     numapp: napp\n// }\naxios.put('http://localhost:4000/application/edit_application/'+appli._id,editAppli).then(response=>{console.log(editAppli);}).catch(function(error){console.log(error);});// axios\n//     .put('http://localhost:4000/job/edit_job/' + appliJob._id, editAppliJob)\n//     .then(response => {\n//         console.log(editAppliJob);\n//     })\n//     .catch(function(error) {\n//         console.log(error);\n//     })\n});this.props.history.push('/appList');this.props.history.push('/');this.props.history.goBack();}reject(application){// const { user } = this.props.auth;\n// let job = this.getjob(application.jobId);\nlet applicant=this.getapplicant(application.applicantId);// let job = this.getjob(application.jobId);\nlet nnumapp=+applicant.numapp-1;// let jnumapp = +job.numapp - 1;\nif(nnumapp<0)nnumapp=0;// if(jnumapp < 0) jnumapp = 0;\nconst editApplicant={numapp:nnumapp};const editApplication={status:\"Rejected\"};// const editJob = {\n//     numapp: jnumapp\n// };\naxios.put('http://localhost:4000/application/edit_application/'+application._id,editApplication).then(response=>{console.log(editApplication);}).catch(function(error){console.log(error);});// axios\n//     .put('http://localhost:4000/job/edit_job/' + job._id, editJob)\n//     .then(response => {\n//         console.log(editJob);\n//     })\n//     .catch(function(error) {\n//         console.log(error);\n//     })\naxios.put('http://localhost:4000/user/edit_profile/'+application.applicantId,editApplicant).then(response=>{console.log(editApplicant);}).catch(function(error){console.log(error);});this.props.history.push('/appList');this.props.history.push('/appList');this.props.history.goBack();;}render(){const{user}=this.props.auth;const userRole=this.state.userdetails.role;let Applications;if(userRole===\"recruiter\"){Applications=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12,lg:12},/*#__PURE__*/React.createElement(List,{component:\"nav\",\"aria-label\":\"mailbox folders\"},/*#__PURE__*/React.createElement(ListItem,{text:true},/*#__PURE__*/React.createElement(\"h3\",null,\"Applications\"))))),/*#__PURE__*/React.createElement(Grid,null,/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,md:12,lg:12},/*#__PURE__*/React.createElement(Table,null,/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Title\"),/*#__PURE__*/React.createElement(TableCell,null,\"Applicant \",/*#__PURE__*/React.createElement(Button,{onClick:this.sortByName},this.renderNameIcon())),/*#__PURE__*/React.createElement(TableCell,null,\"Appl. Rating \",/*#__PURE__*/React.createElement(Button,{onClick:this.sortByRating},this.renderRatingIcon())),/*#__PURE__*/React.createElement(TableCell,null,\"Appl. Skills\"),/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,\"Education\"))),/*#__PURE__*/React.createElement(TableCell,null,\"SOP\"),/*#__PURE__*/React.createElement(TableCell,null,\"Status\"),/*#__PURE__*/React.createElement(TableCell,null,\"Date of Application \",/*#__PURE__*/React.createElement(Button,{onClick:this.sortByDateOfApply},this.renderDateOfApplyIcon())),/*#__PURE__*/React.createElement(TableCell,null),/*#__PURE__*/React.createElement(TableCell,null),/*#__PURE__*/React.createElement(TableCell,null))),/*#__PURE__*/React.createElement(TableBody,null,this.state.applications.filter(item=>item.status!==\"Rejected\"&&item.recruiterId===user.id&&item.jobId===this.props.location.state).map((application,ind)=>/*#__PURE__*/React.createElement(TableRow,{key:ind},/*#__PURE__*/React.createElement(TableCell,null,application.title),this.state.users.filter(item=>item._id===application.applicantId).map((applicant,innd)=>/*#__PURE__*/React.createElement(TableCell,{key:innd},applicant.name)),this.state.users.filter(item=>item._id===application.applicantId).map((applicant,innd)=>/*#__PURE__*/React.createElement(TableCell,{key:innd},applicant.rating?applicant.rating.toFixed(1):\"\",/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons\"},/*#__PURE__*/React.createElement(\"h6\",null,\" star\")))),this.state.users.filter(item=>item._id===application.applicantId).map((applicant,innd)=>/*#__PURE__*/React.createElement(TableCell,{key:innd},applicant.skills.join(\", \"))),this.state.users.filter(item=>item._id===application.applicantId).map((applicant,innd)=>/*#__PURE__*/React.createElement(TableCell,{key:innd},applicant.education.map(ed=>/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,\"School: \",ed.school),/*#__PURE__*/React.createElement(\"li\",null,\"Degree: \",ed.degree),/*#__PURE__*/React.createElement(\"li\",null,\"Start date: \",ed.startdate?ed.startdate.toString().substring(0,10):\"NA\"),/*#__PURE__*/React.createElement(\"li\",null,\"End date: \",ed.enddate?ed.enddate.toString().substring(0,10):\"NA\"))))),/*#__PURE__*/React.createElement(TableCell,null,application.sop),/*#__PURE__*/React.createElement(TableCell,null,application.status),/*#__PURE__*/React.createElement(TableCell,null,application.dateOfApplication.substring(0,10)),application.status===\"Applied\"?/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Tooltip,{title:\"Shortlist Candidate\",\"aria-label\":\"apply\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3\",onClick:()=>this.shortlist(application)},\"Shortlist\"))):/*#__PURE__*/React.createElement(\"div\",null),application.status===\"Shortlisted\"?/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Tooltip,{title:\"Accept Candidate\",\"aria-label\":\"apply\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success btn-sm waves-effect waves-light hoverable blue accent-3\",onClick:()=>this.accept(application)},\"Accept\"))):/*#__PURE__*/React.createElement(\"div\",null),application.status===\"Accepted\"?/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Tooltip,{title:\"Reject Candidate\",\"aria-label\":\"apply\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-secondary btn-sm waves-effect waves-light hoverable blue accent-3\"},\"Accepted\"))):/*#__PURE__*/React.createElement(TableCell,null,/*#__PURE__*/React.createElement(Tooltip,{title:\"Rate this job\",\"aria-label\":\"apply\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger btn-sm waves-effect waves-light hoverable blue accent-3\",onClick:()=>this.reject(application)},\"Reject\"))))))))));}return/*#__PURE__*/React.createElement(\"div\",{style:{height:\"75vh\"},className:\"valign-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s12 center-align\"},/*#__PURE__*/React.createElement(Card,{style:{width:'100%'}},/*#__PURE__*/React.createElement(Card.Body,null,Applications)))));}}const mapStateToProps=state=>({auth:state.auth,errors:state.errors});export default connect(mapStateToProps)(AppList);","map":{"version":3,"names":["React","Component","axios","Grid","TableCell","TableHead","TableRow","Table","TableBody","Button","List","Tooltip","ListItem","ArrowUpwardIcon","ArrowDownwardIcon","Card","connect","AppList","constructor","props","onLogoutClick","e","preventDefault","logoutUser","onChange","setState","target","id","value","state","userdetails","users","jobs","applications","rating","sortbyname","sortbydateofapply","sortbyrating","renderNameIcon","bind","renderDateOfApplyIcon","renderRatingIcon","sortByName","sortByDateOfApply","sortByRating","accept","componentDidMount","user","auth","get","then","response","data","catch","error","console","log","componentWillReceiveProps","nextProps","errors","getjob","jobId","job","filter","item","_id","getapplicant","applicantId","applicant","array","flag","uusers","sort","a","b","aapp","bapp","name","undefined","localeCompare","dateOfApply","Date","createElement","shortlist","application","editApplication","status","put","window","location","reload","numpos","posmax","alert","forEach","appli","tempAppli","nnumpos","editApplicant","working","numapp","editJob","doj","alljobs","editAppli","history","push","goBack","reject","nnumapp","render","userRole","role","Applications","xs","md","lg","component","text","onClick","recruiterId","map","ind","key","title","innd","toFixed","className","skills","join","education","ed","school","degree","startdate","toString","substring","enddate","sop","dateOfApplication","style","height","width","Body","mapStateToProps"],"sources":["E:/hasana project 1/Work Bookr/frontend/src/components/Recruiter/AppList.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\nclass AppList extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userdetails: [],\r\n            users: [],\r\n            jobs: [],\r\n            applications: [],\r\n            rating: 0,\r\n            sortbyname:true,\r\n            sortbydateofapply:true,\r\n            sortbyrating:true\r\n        };\r\n        this.renderNameIcon = this.renderNameIcon.bind(this);\r\n        this.renderDateOfApplyIcon = this.renderDateOfApplyIcon.bind(this);\r\n        this.renderRatingIcon = this.renderRatingIcon.bind(this);\r\n        this.sortByName = this.sortByName.bind(this);\r\n        this.sortByDateOfApply = this.sortByDateOfApply.bind(this);\r\n        this.sortByRating = this.sortByRating.bind(this);\r\n        this.accept = this.accept.bind(this);\r\n    }\r\n\r\n    onLogoutClick = e => {\r\n        e.preventDefault();\r\n        this.props.logoutUser();\r\n    };\r\n\r\n    onChange = e => {\r\n        this.setState({ [e.target.id]: e.target.value });\r\n    };\r\n\r\n    componentDidMount() {\r\n        const { user } = this.props.auth;\r\n        axios.get('http://localhost:4000/user/'+ user.id)\r\n                .then(response => {\r\n                    this.setState({userdetails: response.data});\r\n                })\r\n                .catch(function(error) {\r\n                    console.log(error);\r\n                })\r\n        axios.get('http://localhost:4000/job/get_jobs')\r\n            .then(response => {\r\n                this.setState({jobs: response.data});\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n        axios.get('http://localhost:4000/user/')\r\n            .then(response => {\r\n                this.setState({users: response.data});\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n        axios.get('http://localhost:4000/application/get_applications')\r\n            .then(response => {\r\n                this.setState({applications: response.data});\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.errors) {\r\n            this.setState({\r\n            errors: nextProps.errors\r\n            });\r\n        }\r\n    }\r\n\r\n    getjob(jobId)\r\n    {\r\n        let job = this.state.jobs.filter(item => item._id === jobId)[0];\r\n        return job;\r\n    }\r\n\r\n    getapplicant(applicantId)\r\n    {\r\n        let applicant = this.state.users.filter(item => item._id === applicantId)[0];\r\n        return applicant;\r\n    }\r\n\r\n    sortByName(){\r\n        var array = this.state.applications;\r\n        var flag = this.state.sortbyname;\r\n        let uusers = this.state.users;\r\n        function getapplicant(applicantId)\r\n        {\r\n            let applicant = uusers.filter(item => item._id === applicantId)[0];\r\n            return applicant;\r\n        }\r\n        array.sort(function(a, b) {\r\n            console.log(a.applicantId);\r\n            let aapp = getapplicant(a.applicantId);\r\n            let bapp = getapplicant(b.applicantId);\r\n            if(aapp.name !== undefined && bapp.name !== undefined){\r\n                return (1 - +flag*2) * aapp.name.localeCompare(bapp.name);\r\n            }\r\n            else{\r\n                return 1;\r\n            }\r\n          });\r\n        this.setState({\r\n            applications:array,\r\n            sortbyname:!this.state.sortbyname,\r\n        })\r\n    }\r\n\r\n    sortByDateOfApply(){\r\n        var array = this.state.applications;\r\n        var flag = this.state.sortbydateofapply;\r\n        array.sort(function(a, b) {\r\n            if(a.dateOfApply !== undefined && b.dateOfApply !== undefined){\r\n                return (1 - +flag*2) * (new Date(a.dateOfApply) - new Date(b.dateOfApply));\r\n            }\r\n            else{\r\n                return 1;\r\n            }\r\n          });\r\n        this.setState({\r\n            applications:array,\r\n            sortbydateofapply:!this.state.sortbydateofapply,\r\n        })\r\n    }\r\n\r\n    sortByRating(){\r\n        var array = this.state.applications;\r\n        var flag = this.state.sortbyrating;\r\n        let uusers = this.state.users;\r\n        function getapplicant(applicantId)\r\n        {\r\n            let applicant = uusers.filter(item => item._id === applicantId)[0];\r\n            return applicant;\r\n        }\r\n        array.sort(function(a, b) {\r\n            let aapp = getapplicant(a.applicantId);\r\n            let bapp = getapplicant(b.applicantId);\r\n            if(aapp.rating !== undefined && bapp.rating !== undefined){\r\n                return (1 - +flag*2) * (+aapp.rating - +bapp.rating);\r\n            }\r\n            else{\r\n                return 1;\r\n            }\r\n          });\r\n        this.setState({\r\n            applications:array,\r\n            sortbyrating:!this.state.sortbyrating,\r\n        })\r\n    }\r\n\r\n    renderNameIcon(){\r\n        if(this.state.sortbyname){\r\n            return(\r\n                <ArrowDownwardIcon/>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <ArrowUpwardIcon/>\r\n            )            \r\n        }\r\n    }\r\n\r\n    renderDateOfApplyIcon(){\r\n        if(this.state.sortbydateofapply){\r\n            return(\r\n                <ArrowDownwardIcon/>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <ArrowUpwardIcon/>\r\n            )            \r\n        }\r\n    }\r\n\r\n    renderRatingIcon(){\r\n        if(this.state.sortbyrating){\r\n            return(\r\n                <ArrowDownwardIcon/>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <ArrowUpwardIcon/>\r\n            )            \r\n        }\r\n    }\r\n\r\n    shortlist(application) {\r\n        const editApplication = {\r\n            status: \"Shortlisted\"\r\n        };\r\n\r\n        axios\r\n            .put('http://localhost:4000/application/edit_application/' + application._id, editApplication)\r\n            .then(response => {\r\n                console.log(editApplication);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n            window.location.reload();\r\n    }\r\n\r\n    accept(application) {\r\n        let job = this.getjob(application.jobId);\r\n        if(job.numpos === job.posmax)\r\n        {\r\n            alert(\"All positions are filled!\");\r\n            return;\r\n        }\r\n        else if(job.numpos === job.posmax - 1)\r\n        {\r\n            this.state.applications.filter(item => item.applicantId !== application.applicantId && item.jobId === application.jobId && item.status !== \"Deleted\" && item.status !== \"Accepted\").forEach(\r\n                function(appli)\r\n                {\r\n                    // let temp = job;\r\n                    const tempAppli = {\r\n                        status: \"Rejected\"\r\n                    }\r\n                    // let newNumApp = +temp.numapp - 1;\r\n                    // if(newNumApp < 0) newNumApp = 0;\r\n                    // const tempJob = {\r\n                    //     numapp: newNumApp\r\n                    // }\r\n                    axios\r\n                        .put('http://localhost:4000/application/edit_application/' + appli._id, tempAppli)\r\n                        .then(response => {\r\n                            console.log(tempAppli);\r\n                        })\r\n                        .catch(function(error) {\r\n                            console.log(error);\r\n                        })\r\n                    // axios\r\n                    //     .put('http://localhost:4000/job/edit_job/' + temp._id, tempJob)\r\n                    //     .then(response => {\r\n                    //         console.log(tempJob);\r\n                    //     })\r\n                    //     .catch(function(error) {\r\n                    //         console.log(error);\r\n                    //     })\r\n                })\r\n        }\r\n        let nnumpos = +job.numpos + 1;\r\n\r\n        const editApplicant = {\r\n            working: true,\r\n            numapp: 0\r\n        };\r\n\r\n        const editJob = {\r\n            numpos: nnumpos\r\n        };\r\n\r\n        const editApplication = {\r\n            status: \"Accepted\",\r\n            doj: new Date()\r\n        };\r\n\r\n        axios\r\n            .put('http://localhost:4000/job/edit_job/' + job._id, editJob)\r\n            .then(response => {\r\n                console.log(editJob);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n\r\n        axios\r\n            .put('http://localhost:4000/application/edit_application/' + application._id, editApplication)\r\n            .then(response => {\r\n                console.log(editApplication);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n        \r\n        axios\r\n            .put('http://localhost:4000/user/edit_profile/' + application.applicantId, editApplicant)\r\n            .then(response => {\r\n                console.log(editApplicant);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n        let alljobs = this.state.jobs;\r\n        this.state.applications.filter(item => item.applicantId === application.applicantId && item._id !== application._id && item.status !== \"Deleted\").forEach(\r\n            function(appli)\r\n            {\r\n                // let appliJob = alljobs.filter(item => item._id === appli.jobId)[0];\r\n                const editAppli = {\r\n                    status: \"Rejected\"\r\n                }\r\n                // let napp = +appliJob.numapp - 1;\r\n                // if(napp < 0) napp = 0;\r\n                // const editAppliJob = {\r\n                //     numapp: napp\r\n                // }\r\n                axios\r\n                    .put('http://localhost:4000/application/edit_application/' + appli._id, editAppli)\r\n                    .then(response => {\r\n                        console.log(editAppli);\r\n                    })\r\n                    .catch(function(error) {\r\n                        console.log(error);\r\n                    })\r\n                // axios\r\n                //     .put('http://localhost:4000/job/edit_job/' + appliJob._id, editAppliJob)\r\n                //     .then(response => {\r\n                //         console.log(editAppliJob);\r\n                //     })\r\n                //     .catch(function(error) {\r\n                //         console.log(error);\r\n                //     })\r\n            })\r\n\r\n        this.props.history.push('/appList');\r\n        this.props.history.push('/');\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    reject(application) {\r\n        // const { user } = this.props.auth;\r\n        // let job = this.getjob(application.jobId);\r\n        let applicant = this.getapplicant(application.applicantId);\r\n        // let job = this.getjob(application.jobId);\r\n        let nnumapp = +applicant.numapp - 1;\r\n        // let jnumapp = +job.numapp - 1;\r\n\r\n        if(nnumapp < 0) nnumapp = 0;\r\n        // if(jnumapp < 0) jnumapp = 0;\r\n\r\n        const editApplicant = {\r\n            numapp: nnumapp\r\n        };\r\n\r\n        const editApplication = {\r\n            status: \"Rejected\"\r\n        };\r\n\r\n        // const editJob = {\r\n        //     numapp: jnumapp\r\n        // };\r\n\r\n        axios\r\n            .put('http://localhost:4000/application/edit_application/' + application._id, editApplication)\r\n            .then(response => {\r\n                console.log(editApplication);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n\r\n        // axios\r\n        //     .put('http://localhost:4000/job/edit_job/' + job._id, editJob)\r\n        //     .then(response => {\r\n        //         console.log(editJob);\r\n        //     })\r\n        //     .catch(function(error) {\r\n        //         console.log(error);\r\n        //     })\r\n        \r\n        axios\r\n            .put('http://localhost:4000/user/edit_profile/' + application.applicantId, editApplicant)\r\n            .then(response => {\r\n                console.log(editApplicant);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n\r\n        this.props.history.push('/appList');\r\n        this.props.history.push('/appList');\r\n        this.props.history.goBack();;\r\n    }\r\n\r\n    render() \r\n    {\r\n        const { user } = this.props.auth;\r\n        const userRole = this.state.userdetails.role;\r\n        let Applications;\r\n        if(userRole === \"recruiter\") {\r\n            Applications =\r\n            <div>\r\n                <Grid>\r\n                <Grid item xs={12} md={12} lg={12}>\r\n                    <List component=\"nav\" aria-label=\"mailbox folders\">\r\n                        <ListItem text>\r\n                            <h3>Applications</h3>\r\n                        </ListItem>\r\n                    </List>\r\n                </Grid>\r\n                </Grid>\r\n                <Grid>\r\n                    <Grid item xs={12} md={12} lg={12}>\r\n                        {/* <Paper> */}\r\n                            <Table>\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                            <TableCell>Title</TableCell>\r\n                                            <TableCell>Applicant <Button onClick={this.sortByName}>{this.renderNameIcon()}</Button></TableCell>\r\n                                            <TableCell>Appl. Rating <Button onClick={this.sortByRating}>{this.renderRatingIcon()}</Button></TableCell>\r\n                                            <TableCell>Appl. Skills</TableCell>\r\n                                            <TableCell><ul><li>Education</li></ul></TableCell>\r\n                                            <TableCell>SOP</TableCell>\r\n                                            <TableCell>Status</TableCell>\r\n                                            <TableCell>Date of Application <Button onClick={this.sortByDateOfApply}>{this.renderDateOfApplyIcon()}</Button></TableCell>\r\n                                            <TableCell></TableCell>\r\n                                            <TableCell></TableCell>\r\n                                            <TableCell></TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {this.state.applications.filter(item => item.status !== \"Rejected\" && item.recruiterId === user.id && item.jobId === this.props.location.state).map((application,ind) => (\r\n                                        <TableRow key={ind}>\r\n                                            <TableCell>{application.title}</TableCell>\r\n                                            {this.state.users.filter(item => item._id === application.applicantId).map((applicant,innd) => (\r\n                                                <TableCell key={innd}>{applicant.name}</TableCell>\r\n                                            ))}\r\n                                            {this.state.users.filter(item => item._id === application.applicantId).map((applicant,innd) => (\r\n                                                <TableCell key={innd}>{applicant.rating ? applicant.rating.toFixed(1): \"\"}<i className=\"material-icons\"><h6> star</h6></i></TableCell>\r\n                                            ))}\r\n                                            {this.state.users.filter(item => item._id === application.applicantId).map((applicant,innd) => (\r\n                                                <TableCell key={innd}>{applicant.skills.join(\", \")}</TableCell>\r\n                                            ))}\r\n                                            {this.state.users.filter(item => item._id === application.applicantId).map((applicant,innd) => (\r\n                                                <TableCell key={innd}>\r\n                                                    {\r\n                                                        applicant.education.map(ed => (\r\n                                                            <ul>\r\n                                                                <li>School: {ed.school}</li>\r\n                                                                <li>Degree: {ed.degree}</li>\r\n                                                                <li>Start date: {ed.startdate ? ed.startdate.toString().substring(0, 10): \"NA\"}</li>\r\n                                                                <li>End date: {ed.enddate ? ed.enddate.toString().substring(0, 10):\"NA\"}</li>\r\n                                                            </ul>\r\n                                                        ))\r\n                                                    }\r\n                                                </TableCell>\r\n                                            ))}\r\n                                            <TableCell>{application.sop}</TableCell>\r\n                                            <TableCell>{application.status}</TableCell>\r\n                                            <TableCell>{application.dateOfApplication.substring(0, 10)}</TableCell>\r\n                                           \r\n                                            {application.status === \"Applied\"?\r\n                                            \r\n                                            <TableCell>\r\n                                                <Tooltip title=\"Shortlist Candidate\" aria-label=\"apply\">\r\n                                                    <button\r\n                                                        className=\"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3\" \r\n                                                        onClick={() => this.shortlist(application)}>\r\n                                                        Shortlist\r\n                                                    </button> \r\n                                                </Tooltip>                                            \r\n                                            </TableCell>\r\n\r\n                                            :\r\n\r\n                                            <div></div>\r\n\r\n                                            }\r\n                                            {application.status === \"Shortlisted\"?\r\n                                            \r\n                                            <TableCell>\r\n                                                <Tooltip title=\"Accept Candidate\" aria-label=\"apply\">\r\n                                                    <button\r\n                                                        className=\"btn btn-success btn-sm waves-effect waves-light hoverable blue accent-3\" \r\n                                                        onClick={() => this.accept(application)}>\r\n                                                        Accept\r\n                                                    </button> \r\n                                                </Tooltip>                                            \r\n                                            </TableCell>\r\n\r\n                                            :\r\n\r\n                                            <div></div>\r\n\r\n                                            }\r\n                                            {application.status === \"Accepted\"?\r\n                                            \r\n                                            <TableCell>\r\n                                                <Tooltip title=\"Reject Candidate\" aria-label=\"apply\">\r\n                                                    <button\r\n                                                        className=\"btn btn-secondary btn-sm waves-effect waves-light hoverable blue accent-3\" \r\n                                                        >\r\n                                                        Accepted\r\n                                                    </button> \r\n                                                </Tooltip>                                            \r\n                                            </TableCell>\r\n\r\n                                            :\r\n\r\n                                            <TableCell>\r\n                                                <Tooltip title=\"Rate this job\" aria-label=\"apply\">\r\n                                                    <button\r\n                                                        className=\"btn btn-danger btn-sm waves-effect waves-light hoverable blue accent-3\" \r\n                                                        onClick={() => this.reject(application)}>\r\n                                                        Reject\r\n                                                    </button> \r\n                                                </Tooltip>                                            \r\n                                            </TableCell>\r\n\r\n                                            }\r\n                                            \r\n                                        </TableRow>\r\n                                    ))}\r\n                                </TableBody>\r\n                            </Table>\r\n                        {/* </Paper>                */}\r\n                    </Grid>    \r\n                </Grid>            \r\n            </div>\r\n        }\r\n        return (\r\n            <div style={{ height: \"75vh\" }} className=\"valign-wrapper\">\r\n                <div className=\"row\">\r\n                    <div className=\"col s12 center-align\">\r\n                        <Card style={{ width: '100%' }}>\r\n                            <Card.Body>\r\n                                {Applications}\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nAppList.propTypes = {\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n)(AppList);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}