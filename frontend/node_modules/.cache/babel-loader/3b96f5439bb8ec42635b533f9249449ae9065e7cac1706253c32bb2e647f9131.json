{"ast":null,"code":"import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import{connect}from\"react-redux\";import{loginUser}from\"../../actions/authActions\";import classnames from\"classnames\";class Login extends Component{constructor(){super();this.onChange=e=>{this.setState({[e.target.id]:e.target.value});};this.onSubmit=e=>{e.preventDefault();const userData={email:this.state.email,password:this.state.password};this.props.loginUser(userData);console.log(userData);};this.state={email:\"\",password:\"\",errors:{}};}componentDidMount(){// If logged in and user navigates to Login page, should redirect them to dashboard\nif(this.props.auth.isAuthenticated){this.props.history.push(\"/dashboard\");}}componentWillReceiveProps(nextProps){if(nextProps.auth.isAuthenticated){this.props.history.push(\"/dashboard\");// push user to dashboard when they login\n}if(nextProps.errors){this.setState({errors:nextProps.errors});}}render(){const{errors}=this.state;return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"4rem\"},className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s8 offset-s2\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"btn-flat waves-effect\"},/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons left\"},/*#__PURE__*/React.createElement(\"b\",null,\"keyboard_backspace\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col s12\",style:{paddingLeft:\"11.250px\"}},/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Login\")),/*#__PURE__*/React.createElement(\"p\",{className:\"grey-text text-darken-1\"},\"Don't have an account? \",/*#__PURE__*/React.createElement(Link,{to:\"/register\"},\"Register\"))),/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onChange,value:this.state.email,error:errors.email,id:\"email\",type:\"email\",className:classnames(\"\",{invalid:errors.email||errors.emailnotfound})}),/*#__PURE__*/React.createElement(\"span\",{className:\"red-text\"},errors.email,errors.emailnotfound)),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onChange,value:this.state.password,error:errors.password,id:\"password\",type:\"password\",className:classnames(\"\",{invalid:errors.password||errors.passwordincorrect})}),/*#__PURE__*/React.createElement(\"span\",{className:\"red-text\"},errors.password,errors.passwordincorrect)),/*#__PURE__*/React.createElement(\"div\",{className:\"col s12\",style:{paddingLeft:\"11.250px\"}},/*#__PURE__*/React.createElement(\"button\",{style:{width:\"150px\",borderRadius:\"3px\",letterSpacing:\"1.5px\",marginTop:\"1rem\"},type:\"submit\",className:\"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3\"},\"Login\"))))));}}const mapStateToProps=state=>({auth:state.auth,errors:state.errors});export default connect(mapStateToProps,{loginUser})(Login);","map":{"version":3,"names":["React","Component","Link","connect","loginUser","classnames","Login","constructor","onChange","e","setState","target","id","value","onSubmit","preventDefault","userData","email","state","password","props","console","log","errors","componentDidMount","auth","isAuthenticated","history","push","componentWillReceiveProps","nextProps","render","createElement","className","style","marginTop","to","paddingLeft","noValidate","htmlFor","error","type","invalid","emailnotfound","passwordincorrect","width","borderRadius","letterSpacing","mapStateToProps"],"sources":["E:/hasana project 1/Work Bookr/frontend/src/components/Common/Login.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../../actions/authActions\";\r\nimport classnames from \"classnames\";\r\n\r\nclass Login extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            errors: {}\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        // If logged in and user navigates to Login page, should redirect them to dashboard\r\n        if (this.props.auth.isAuthenticated) {\r\n          this.props.history.push(\"/dashboard\");\r\n        }\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.auth.isAuthenticated) {\r\n          this.props.history.push(\"/dashboard\"); // push user to dashboard when they login\r\n        }\r\n    if (nextProps.errors) {\r\n          this.setState({\r\n            errors: nextProps.errors\r\n          });\r\n        }\r\n    }\r\n    onChange = e => {\r\n        this.setState({ [e.target.id]: e.target.value });\r\n    };\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const userData = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        };\r\n        this.props.loginUser(userData);\r\n        console.log(userData);\r\n    };\r\n    render() {\r\n        const { errors } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <div style={{ marginTop: \"4rem\" }} className=\"row\">\r\n                    <div className=\"col s8 offset-s2\">\r\n                        <Link to=\"/\" className=\"btn-flat waves-effect\">\r\n                            <i className=\"material-icons left\"><b>keyboard_backspace</b></i>\r\n                        </Link>\r\n                        <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\r\n                            <h4>\r\n                            <b>Login</b>\r\n                            </h4>\r\n                            <p className=\"grey-text text-darken-1\">\r\n                            Don't have an account? <Link to=\"/register\">Register</Link>\r\n                            </p>\r\n                        </div>\r\n                        <form noValidate onSubmit={this.onSubmit}>\r\n                            <div className=\"input-field col s12\">\r\n                                <label htmlFor=\"email\">Email</label><br></br>\r\n                                <input\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.email}\r\n                                    error={errors.email}\r\n                                    id=\"email\"\r\n                                    type=\"email\"\r\n                                    className={classnames(\"\", {\r\n                                        invalid: errors.email || errors.emailnotfound\r\n                                    })}\r\n                                />\r\n                                <span className=\"red-text\">\r\n                                    {errors.email}\r\n                                    {errors.emailnotfound}\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"input-field col s12\">\r\n                                <label htmlFor=\"password\">Password</label><br></br>\r\n                                <input\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.password}\r\n                                    error={errors.password}\r\n                                    id=\"password\"\r\n                                    type=\"password\"\r\n                                    className={classnames(\"\", {\r\n                                        invalid: errors.password || errors.passwordincorrect\r\n                                    })}\r\n                                />\r\n                                <span className=\"red-text\">\r\n                                    {errors.password}\r\n                                    {errors.passwordincorrect}\r\n                                </span>\r\n                            </div>\r\n                            <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\r\n                                <button\r\n                                    style={{\r\n                                    width: \"150px\",\r\n                                    borderRadius: \"3px\",\r\n                                    letterSpacing: \"1.5px\",\r\n                                    marginTop: \"1rem\"\r\n                                    }}\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3\"\r\n                                >\r\n                                    Login\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nLogin.propTypes = {\r\n    loginUser: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { loginUser }\r\n)(Login);\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}