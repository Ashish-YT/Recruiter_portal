{"ast":null,"code":"import React,{Component}from\"react\";import axios from'axios';import Card from\"react-bootstrap/Card\";import{connect}from\"react-redux\";class AddEducation extends Component{constructor(props){super(props);this.onLogoutClick=e=>{e.preventDefault();this.props.logoutUser();};this.onChange=e=>{this.setState({[e.target.id]:e.target.value});};this.onSubmit=e=>{e.preventDefault();const{user}=this.props.auth;const newEducation={school:this.state.school,degree:this.state.degree,startdate:this.state.startdate,enddate:this.state.enddate};var g1,g2;if(newEducation.startdate&&newEducation.enddate){g1=new Date(newEducation.startdate);g2=new Date(newEducation.enddate);}if(!newEducation.startdate||newEducation.school===\"\"||newEducation.degree===\"\"){alert(\"School, Degree and Start Date are required!\");}else if(newEducation.enddate&&g2<g1){alert(\"End date cannot be before start date.\");}else{this.state.userDetails.education.push(newEducation);axios.put('http://localhost:4000/user/edit_profile/'+user.id,this.state.userDetails).then(response=>{console.log(this.state.userDetails);this.props.history.push('/profile');}).catch(function(error){console.log(error);});}};this.state={newed:[],role:\"\",school:\"\",degree:\"\",startdate:new Date(),// enddate: new Date(),\nuserDetails:[],errors:{}};}componentDidMount(){const{user}=this.props.auth;axios.get('http://localhost:4000/user/'+user.id).then(response=>{this.setState({userDetails:response.data});}).catch(function(error){console.log(error);});}componentWillReceiveProps(nextProps){if(nextProps.errors){this.setState({errors:nextProps.errors});}}render(){const userRole=this.state.userDetails.role;let AddEducation;if(userRole==='applicant'){AddEducation=/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"school\"},\"School\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onChange,value:this.state.school,id:\"school\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"degree\"},\"Degree\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onChange,value:this.state.degree,id:\"degree\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"startdate\"},\"Start Date\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onChange,value:this.state.startdate,id:\"startdate\",type:\"date\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"enddate\"},\"End Date\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onChange,value:this.state.enddate,id:\"enddate\",type:\"date\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col s12\",style:{paddingLeft:\"11.250px\"}},/*#__PURE__*/React.createElement(\"button\",{style:{width:\"150px\",borderRadius:\"3px\",letterSpacing:\"1.5px\",marginTop:\"1rem\"},type:\"submit\",className:\"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3\"},\"Save\")));}return/*#__PURE__*/React.createElement(\"div\",{style:{height:\"75vh\"},className:\"valign-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col s12 center-align\"},/*#__PURE__*/React.createElement(Card,{style:{width:'100%'}},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Text,null,AddEducation))))));}}const mapStateToProps=state=>({auth:state.auth,errors:state.errors});export default connect(mapStateToProps)(AddEducation);","map":{"version":3,"names":["React","Component","axios","Card","connect","AddEducation","constructor","props","onLogoutClick","e","preventDefault","logoutUser","onChange","setState","target","id","value","onSubmit","user","auth","newEducation","school","state","degree","startdate","enddate","g1","g2","Date","alert","userDetails","education","push","put","then","response","console","log","history","catch","error","newed","role","errors","componentDidMount","get","data","componentWillReceiveProps","nextProps","render","userRole","createElement","noValidate","className","htmlFor","type","style","paddingLeft","width","borderRadius","letterSpacing","marginTop","height","Body","Text","mapStateToProps"],"sources":["E:/hasana project 1/Work Bookr/frontend/src/components/Applicant/AddEducation.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from 'axios';\r\nimport Card from \"react-bootstrap/Card\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass AddEducation extends Component {\r\n    onLogoutClick = e => {\r\n        e.preventDefault();\r\n        this.props.logoutUser();\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            newed:[],\r\n            role: \"\",\r\n            school: \"\",\r\n            degree: \"\",\r\n            startdate: new Date(),\r\n            // enddate: new Date(),\r\n            userDetails: [],\r\n            errors: {}\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { user } = this.props.auth;\r\n        axios.get('http://localhost:4000/user/'+ user.id)\r\n            .then(response => {\r\n                this.setState({userDetails: response.data});\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n    onChange = e => {\r\n        this.setState({ [e.target.id]: e.target.value });\r\n    };\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.errors) {\r\n            this.setState({\r\n                errors: nextProps.errors\r\n            });\r\n        }\r\n    }\r\n\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        const { user } = this.props.auth;\r\n        const newEducation = {\r\n            school: this.state.school,\r\n            degree: this.state.degree,\r\n            startdate: this.state.startdate,\r\n            enddate: this.state.enddate\r\n        };\r\n        var g1,g2;\r\n        if(newEducation.startdate && newEducation.enddate)\r\n        {\r\n            g1 = new Date(newEducation.startdate); \r\n            g2 = new Date(newEducation.enddate); \r\n        }\r\n        if(!newEducation.startdate || newEducation.school === \"\" || newEducation.degree === \"\")\r\n        {\r\n            alert(\"School, Degree and Start Date are required!\");\r\n        }\r\n        else if(newEducation.enddate && g2<g1)\r\n        {\r\n            alert(\"End date cannot be before start date.\");\r\n        }\r\n        else{\r\n            this.state.userDetails.education.push(newEducation);\r\n            axios\r\n                .put('http://localhost:4000/user/edit_profile/' + user.id, this.state.userDetails)\r\n                .then(response => {\r\n                    console.log(this.state.userDetails);this.props.history.push('/profile');\r\n                })\r\n                .catch(function(error) {\r\n                    console.log(error);\r\n                })\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const userRole = this.state.userDetails.role;\r\n        let AddEducation;\r\n        if(userRole === 'applicant') {\r\n            AddEducation = \r\n            <form noValidate onSubmit={this.onSubmit}>\r\n                <div className=\"input-field col s12\">\r\n                    <label htmlFor=\"school\">School</label><br></br>\r\n                    <input\r\n                        onChange={this.onChange}\r\n                        value={this.state.school}\r\n                        id=\"school\"\r\n                        type=\"text\"\r\n                    />\r\n                </div>\r\n                <div className=\"input-field col s12\">\r\n                    <label htmlFor=\"degree\">Degree</label><br></br>\r\n                    <input\r\n                        onChange={this.onChange}\r\n                        value={this.state.degree}\r\n                        id=\"degree\"\r\n                        type=\"text\"\r\n                    />\r\n                </div>\r\n                <div className=\"input-field col s12\">\r\n                    <label htmlFor=\"startdate\">Start Date</label><br></br>\r\n                    <input\r\n                        onChange={this.onChange}\r\n                        value={this.state.startdate}\r\n                        id=\"startdate\"\r\n                        type=\"date\"\r\n                    />\r\n                </div>\r\n                <div className=\"input-field col s12\">\r\n                    <label htmlFor=\"enddate\">End Date</label><br></br>\r\n                    <input\r\n                        onChange={this.onChange}\r\n                        value={this.state.enddate}\r\n                        id=\"enddate\"\r\n                        type=\"date\"\r\n                    />\r\n                </div>\r\n                <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\r\n                    <button\r\n                        style={{\r\n                        width: \"150px\",\r\n                        borderRadius: \"3px\",\r\n                        letterSpacing: \"1.5px\",\r\n                        marginTop: \"1rem\"\r\n                        }}\r\n                        type=\"submit\"\r\n                        className=\"btn btn-primary btn-large waves-effect waves-light hoverable blue accent-3\"\r\n                    >\r\n                        Save\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        }\r\n        return (\r\n            <div style={{ height: \"75vh\" }} className=\"valign-wrapper\">\r\n                <div className=\"row\">\r\n                    <div className=\"col s12 center-align\">\r\n                        <Card style={{ width: '100%' }}>\r\n                            <Card.Body>\r\n                                <Card.Text>\r\n                                    {AddEducation}\r\n                                </Card.Text>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nAddEducation.propTypes = {\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n)(AddEducation);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,sBAAsB,CAEvC,OAASC,OAAO,KAAQ,aAAa,CAErC,KAAM,CAAAC,YAAY,QAAS,CAAAJ,SAAU,CAMjCK,WAAWA,CAACC,KAAK,CAAE,CACf,KAAK,CAACA,KAAK,CAAC,CAAC,KANjBC,aAAa,CAAGC,CAAC,EAAI,CACjBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,IAAI,CAACH,KAAK,CAACI,UAAU,CAAC,CAAC,CAC3B,CAAC,MA2BDC,QAAQ,CAAGH,CAAC,EAAI,CACZ,IAAI,CAACI,QAAQ,CAAC,CAAE,CAACJ,CAAC,CAACK,MAAM,CAACC,EAAE,EAAGN,CAAC,CAACK,MAAM,CAACE,KAAM,CAAC,CAAC,CACpD,CAAC,MAUDC,QAAQ,CAAGR,CAAC,EAAI,CACZA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAEQ,IAAK,CAAC,CAAG,IAAI,CAACX,KAAK,CAACY,IAAI,CAChC,KAAM,CAAAC,YAAY,CAAG,CACjBC,MAAM,CAAE,IAAI,CAACC,KAAK,CAACD,MAAM,CACzBE,MAAM,CAAE,IAAI,CAACD,KAAK,CAACC,MAAM,CACzBC,SAAS,CAAE,IAAI,CAACF,KAAK,CAACE,SAAS,CAC/BC,OAAO,CAAE,IAAI,CAACH,KAAK,CAACG,OACxB,CAAC,CACD,GAAI,CAAAC,EAAE,CAACC,EAAE,CACT,GAAGP,YAAY,CAACI,SAAS,EAAIJ,YAAY,CAACK,OAAO,CACjD,CACIC,EAAE,CAAG,GAAI,CAAAE,IAAI,CAACR,YAAY,CAACI,SAAS,CAAC,CACrCG,EAAE,CAAG,GAAI,CAAAC,IAAI,CAACR,YAAY,CAACK,OAAO,CAAC,CACvC,CACA,GAAG,CAACL,YAAY,CAACI,SAAS,EAAIJ,YAAY,CAACC,MAAM,GAAK,EAAE,EAAID,YAAY,CAACG,MAAM,GAAK,EAAE,CACtF,CACIM,KAAK,CAAC,6CAA6C,CAAC,CACxD,CAAC,IACI,IAAGT,YAAY,CAACK,OAAO,EAAIE,EAAE,CAACD,EAAE,CACrC,CACIG,KAAK,CAAC,uCAAuC,CAAC,CAClD,CAAC,IACG,CACA,IAAI,CAACP,KAAK,CAACQ,WAAW,CAACC,SAAS,CAACC,IAAI,CAACZ,YAAY,CAAC,CACnDlB,KAAK,CACA+B,GAAG,CAAC,0CAA0C,CAAGf,IAAI,CAACH,EAAE,CAAE,IAAI,CAACO,KAAK,CAACQ,WAAW,CAAC,CACjFI,IAAI,CAACC,QAAQ,EAAI,CACdC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACf,KAAK,CAACQ,WAAW,CAAC,CAAC,IAAI,CAACvB,KAAK,CAAC+B,OAAO,CAACN,IAAI,CAAC,UAAU,CAAC,CAC3E,CAAC,CAAC,CACDO,KAAK,CAAC,SAASC,KAAK,CAAE,CACnBJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC,CACtB,CAAC,CAAC,CACV,CACJ,CAAC,CArEG,IAAI,CAAClB,KAAK,CAAG,CACTmB,KAAK,CAAC,EAAE,CACRC,IAAI,CAAE,EAAE,CACRrB,MAAM,CAAE,EAAE,CACVE,MAAM,CAAE,EAAE,CACVC,SAAS,CAAE,GAAI,CAAAI,IAAI,CAAC,CAAC,CACrB;AACAE,WAAW,CAAE,EAAE,CACfa,MAAM,CAAE,CAAC,CACb,CAAC,CACL,CAEAC,iBAAiBA,CAAA,CAAG,CAChB,KAAM,CAAE1B,IAAK,CAAC,CAAG,IAAI,CAACX,KAAK,CAACY,IAAI,CAChCjB,KAAK,CAAC2C,GAAG,CAAC,6BAA6B,CAAE3B,IAAI,CAACH,EAAE,CAAC,CAC5CmB,IAAI,CAACC,QAAQ,EAAI,CACd,IAAI,CAACtB,QAAQ,CAAC,CAACiB,WAAW,CAAEK,QAAQ,CAACW,IAAI,CAAC,CAAC,CAC/C,CAAC,CAAC,CACDP,KAAK,CAAC,SAASC,KAAK,CAAE,CACnBJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC,CACtB,CAAC,CAAC,CACV,CAMAO,yBAAyBA,CAACC,SAAS,CAAE,CACjC,GAAIA,SAAS,CAACL,MAAM,CAAE,CAClB,IAAI,CAAC9B,QAAQ,CAAC,CACV8B,MAAM,CAAEK,SAAS,CAACL,MACtB,CAAC,CAAC,CACN,CACJ,CAsCAM,MAAMA,CAAA,CAAG,CACL,KAAM,CAAAC,QAAQ,CAAG,IAAI,CAAC5B,KAAK,CAACQ,WAAW,CAACY,IAAI,CAC5C,GAAI,CAAArC,YAAY,CAChB,GAAG6C,QAAQ,GAAK,WAAW,CAAE,CACzB7C,YAAY,cACZL,KAAA,CAAAmD,aAAA,SAAMC,UAAU,MAACnC,QAAQ,CAAE,IAAI,CAACA,QAAS,eACrCjB,KAAA,CAAAmD,aAAA,QAAKE,SAAS,CAAC,qBAAqB,eAChCrD,KAAA,CAAAmD,aAAA,UAAOG,OAAO,CAAC,QAAQ,EAAC,QAAa,CAAC,cAAAtD,KAAA,CAAAmD,aAAA,UAAQ,CAAC,cAC/CnD,KAAA,CAAAmD,aAAA,UACIvC,QAAQ,CAAE,IAAI,CAACA,QAAS,CACxBI,KAAK,CAAE,IAAI,CAACM,KAAK,CAACD,MAAO,CACzBN,EAAE,CAAC,QAAQ,CACXwC,IAAI,CAAC,MAAM,CACd,CACA,CAAC,cACNvD,KAAA,CAAAmD,aAAA,QAAKE,SAAS,CAAC,qBAAqB,eAChCrD,KAAA,CAAAmD,aAAA,UAAOG,OAAO,CAAC,QAAQ,EAAC,QAAa,CAAC,cAAAtD,KAAA,CAAAmD,aAAA,UAAQ,CAAC,cAC/CnD,KAAA,CAAAmD,aAAA,UACIvC,QAAQ,CAAE,IAAI,CAACA,QAAS,CACxBI,KAAK,CAAE,IAAI,CAACM,KAAK,CAACC,MAAO,CACzBR,EAAE,CAAC,QAAQ,CACXwC,IAAI,CAAC,MAAM,CACd,CACA,CAAC,cACNvD,KAAA,CAAAmD,aAAA,QAAKE,SAAS,CAAC,qBAAqB,eAChCrD,KAAA,CAAAmD,aAAA,UAAOG,OAAO,CAAC,WAAW,EAAC,YAAiB,CAAC,cAAAtD,KAAA,CAAAmD,aAAA,UAAQ,CAAC,cACtDnD,KAAA,CAAAmD,aAAA,UACIvC,QAAQ,CAAE,IAAI,CAACA,QAAS,CACxBI,KAAK,CAAE,IAAI,CAACM,KAAK,CAACE,SAAU,CAC5BT,EAAE,CAAC,WAAW,CACdwC,IAAI,CAAC,MAAM,CACd,CACA,CAAC,cACNvD,KAAA,CAAAmD,aAAA,QAAKE,SAAS,CAAC,qBAAqB,eAChCrD,KAAA,CAAAmD,aAAA,UAAOG,OAAO,CAAC,SAAS,EAAC,UAAe,CAAC,cAAAtD,KAAA,CAAAmD,aAAA,UAAQ,CAAC,cAClDnD,KAAA,CAAAmD,aAAA,UACIvC,QAAQ,CAAE,IAAI,CAACA,QAAS,CACxBI,KAAK,CAAE,IAAI,CAACM,KAAK,CAACG,OAAQ,CAC1BV,EAAE,CAAC,SAAS,CACZwC,IAAI,CAAC,MAAM,CACd,CACA,CAAC,cACNvD,KAAA,CAAAmD,aAAA,QAAKE,SAAS,CAAC,SAAS,CAACG,KAAK,CAAE,CAAEC,WAAW,CAAE,UAAW,CAAE,eACxDzD,KAAA,CAAAmD,aAAA,WACIK,KAAK,CAAE,CACPE,KAAK,CAAE,OAAO,CACdC,YAAY,CAAE,KAAK,CACnBC,aAAa,CAAE,OAAO,CACtBC,SAAS,CAAE,MACX,CAAE,CACFN,IAAI,CAAC,QAAQ,CACbF,SAAS,CAAC,4EAA4E,EACzF,MAEO,CACP,CACH,CAAC,CACX,CACA,mBACIrD,KAAA,CAAAmD,aAAA,QAAKK,KAAK,CAAE,CAAEM,MAAM,CAAE,MAAO,CAAE,CAACT,SAAS,CAAC,gBAAgB,eACtDrD,KAAA,CAAAmD,aAAA,QAAKE,SAAS,CAAC,KAAK,eAChBrD,KAAA,CAAAmD,aAAA,QAAKE,SAAS,CAAC,sBAAsB,eACjCrD,KAAA,CAAAmD,aAAA,CAAChD,IAAI,EAACqD,KAAK,CAAE,CAAEE,KAAK,CAAE,MAAO,CAAE,eAC3B1D,KAAA,CAAAmD,aAAA,CAAChD,IAAI,CAAC4D,IAAI,mBACN/D,KAAA,CAAAmD,aAAA,CAAChD,IAAI,CAAC6D,IAAI,MACL3D,YACM,CACJ,CACT,CACL,CACJ,CACJ,CAAC,CAEd,CACJ,CAOA,KAAM,CAAA4D,eAAe,CAAG3C,KAAK,GAAK,CAC9BH,IAAI,CAAEG,KAAK,CAACH,IAAI,CAChBwB,MAAM,CAAErB,KAAK,CAACqB,MAClB,CAAC,CAAC,CACF,cAAe,CAAAvC,OAAO,CAClB6D,eACJ,CAAC,CAAC5D,YAAY,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}